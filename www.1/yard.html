<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <title>Hello World</title>
</head>

<body>
    Yard Progress
    <br> Step Total: <span id='1'></span>

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="stepcounter.js"></script>
    <script type="text/javascript" src="lib/jquery-2.2.2.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
        app.initialize();
        console.log("Starting Code");
        
        $(document).ready(onStart);
        
        function onStart() {
            console.log("Document Ready");
            
            onResume();
        }
        
        function onResume() {
            //Set Update to screen
            updateScreen();
            window.setInterval(updateScreen, 1000);
        }
        
        function onPause() {
            window.clearInterval();
        }
        
        function onStop() {
            onPause();
        }
        
        function updateScreen() {
            stepcounter.getStepCount(stepUpdate, failure);
        }

        function stepUpdate(message) {
            localStorage.stepcount = message;
            $("#1").html(message);
        }

        function failure() {
            alert("Error calling CordovaStepCounter Plugin");
        }

        
    </script>
</body>

</html>
